# 집합의 표현 (1717)

# 집합의 표현

| 시간 제한 | 메모리 제한 | 제출 | 정답 | 맞힌 사람 | 정답 비율 |
| --- | --- | --- | --- | --- | --- |
| 2 초 | 128 MB | 87693 | 27855 | 16931 | 28.142% |

## 문제

초기에n+1개의 집합 {0},{1},{2},…,{n}이 있다. 여기에 합집합 연산과, 두 원소가 같은 집합에 포함되어 있는지를 확인하는 연산을 수행하려고 한다.

집합을 표현하는 프로그램을 작성하시오.

## 입력

첫째 줄에 n, m이 주어진다. m은 입력으로 주어지는 연산의 개수이다. 다음 m개의 줄에는 각각의 연산이 주어진다. 합집합은 0 a b의 형태로 입력이 주어진다. 이는 a가 포함되어 있는 집합과, b가 포함되어 있는 집합을 합친다는 의미이다. 두 원소가 같은 집합에 포함되어 있는지를 확인하는 연산은 1 a b의 형태로 입력이 주어진다. 이는 a와 b가 같은 집합에 포함되어 있는지를 확인하는 연산이다.

## 출력

1로 시작하는 입력에 대해서 a와 b가 같은 집합에 포함되어 있으면 "`YES`" 또는 "`yes`"를, 그렇지 않다면 "`NO`" 또는 "`no`"를 한 줄에 하나씩 출력한다.

## 제한

- 1 ≤ n ≤ 1,000,000
    
    1≤ n ≤1000000
    
- 1 ≤ m ≤ 100,000
    
    1≤ m ≤100000
    
- 0 ≤ a, b ≤ n
    
    0 ≤ a, b ≤ n
    
- a, b는 정수
- a와 b는 같을 수도 있다.

## 예제 입력 1

```
7 8
0 1 3
1 1 7
0 7 6
1 7 1
0 3 7
0 4 2
0 1 1
1 1 1

```

## 예제 출력 1

```
NO
NO
YES
```

## 해설

부분 집합을 다루는 문제로 유니온 파인드 자료구조를 이용하여 해결하는 문제이다. 유니온 파인드란 그래프 알고리즘으로, 두 노드가 같은 그래프(집합)에 속하는지 판별하는 역할을 수행한다.

- 탐색

해당 노드의 부모 노드를 탐색하는 것은 코드에서 find 함수로 구현하였다. 탐색 루트를 줄이기 위해 탐색하는 노드들의 부모 노드를 통일하여 최적화를 이뤄야 한다.

- 그래프 연결

그래프 연결(부분 집합 합치기)은 연결하고자 하는 노드의 부모 노드를 같게 만들어주면 된다.

- 같은 그래프 여부 판별

각 노드의 부모 노드를 탐색하여 부모 노드가 같다면, 같은 그래프라고 판별할 수 있다.

